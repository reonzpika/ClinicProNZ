---
description: "Understanding user intent and context-aware clarification"
alwaysApply: true
globs: []
version: "1.3.0"
last_updated: "2025-11-09"
priority: CRITICAL
---

# User Intent Understanding

## User Intent Principles

- **Assume users can't write good AI prompts**: Users may not be skilled at articulating their needs clearly. Strive to understand their underlying intent, not just literal words.
- **Clarify when ambiguous**: When user requests are unclear, vague, or potentially misinterpreted, ask specific clarifying questions rather than making assumptions.
- **Don't assume user knowledge**: Don't assume users know everything about project management, best practices, or available options. Provide context and explanations when helpful.
- **Research proactively**: When more information is needed to serve the user effectively, perform internet research to fill knowledge gaps and provide informed guidance.
- **Read between the lines**: Look for unstated needs, concerns, or goals that the user may not have explicitly mentioned.

## Context-Aware Clarification

When requests are vague or ambiguous:

1. **ONE SEARCH RULE - Do Minimal Context Gathering**:
   - **MAXIMUM ONE lightweight search** to check for obvious context
   - Options (pick ONE):
     - Read `PROJECTS_OVERVIEW.md` if project unclear
     - Check current git branch name if relevant
     - Read `PROJECT_SUMMARY.md` if project is clear from context
   - **If that ONE search doesn't immediately clarify intent → ASK USER**
   - **NEVER do multiple searches, greps, or extensive codebase exploration for vague queries**

2. **Challenge Vagueness Directly**: 
   - Call out why request is unclear ("This request is too vague to act on effectively")
   - Explain opportunity cost of vague requests (wrong assumptions, wasted effort)
   - Show specific examples of what could be misinterpreted

3. **Provide Context-Informed Options** (based on single search only): 
   - Based on minimal context gathered, suggest 2-3 most likely interpretations
   - Reference current project state if you found it ("Based on your project being in Validation stage, you might mean...")
   - If no clear context found, say so and provide generic options

4. **Ask Targeted Questions**: 
   - Use context to ask specific, non-leading questions
   - Avoid generic questions - make them relevant to current situation
   - Ask 2-3 questions maximum (don't overwhelm)

5. **Don't Guess**: 
   - If context doesn't clarify intent, ask user directly rather than assuming
   - Better to clarify than proceed with wrong assumption
   - **NEVER create files or take actions based on assumptions from vague queries**
   - If query is vague (single words, short phrases, ambiguous), ask clarifying questions FIRST

## Vague Request Handling Pattern

When user request is vague or could mean multiple things:
1. **STOP IMMEDIATELY**: Do not create files, do not make assumptions, do not proceed with any action
2. **ONE Search Only**: Do ONE lightweight context check (git branch, PROJECTS_OVERVIEW.md, or PROJECT_SUMMARY.md)
3. **If Still Unclear → ASK**: If the one search didn't clarify intent, ask immediately. DO NOT do more searches.
4. **Challenge First**: "This request is too vague. Let me explain why clarity matters..."
5. **Structured Options**: Provide 2-3 most likely interpretations based on minimal context
6. **Targeted Questions**: Ask 2-3 specific questions to disambiguate
7. **WAIT**: Do not proceed until user clarifies intent
8. **THEN Act**: Only after clarification, proceed with appropriate action

**CRITICAL RULES**: 
- Vague queries require clarification BEFORE any file creation, editing, or other actions
- **MAXIMUM ONE search/read operation for vague queries, then ASK**
- Never guess user intent and create files based on assumptions
- Don't waste user's time with extensive searching when intent is unclear

---

# End of User Intent Understanding
