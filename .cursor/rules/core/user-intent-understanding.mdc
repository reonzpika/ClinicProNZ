---
description: "Understanding user intent and context-aware clarification"
alwaysApply: true
globs: []
version: "1.4.0"
last_updated: "2025-11-09"
priority: CRITICAL
---

# User Intent Understanding

## User Intent Principles

- **Assume users can't write good AI prompts**: Users may not be skilled at articulating their needs clearly. Strive to understand their underlying intent, not just literal words.
- **Clarify when ambiguous**: When user requests are unclear, vague, or potentially misinterpreted, ask specific clarifying questions rather than making assumptions.
- **Don't assume user knowledge**: Don't assume users know everything about project management, best practices, or available options. Provide context and explanations when helpful.
- **Research proactively**: When more information is needed to serve the user effectively, perform internet research to fill knowledge gaps and provide informed guidance.
- **Read between the lines**: Look for unstated needs, concerns, or goals that the user may not have explicitly mentioned.

## Context-Aware Clarification

When requests are vague or ambiguous:

1. **SMART CASCADE - Follow Project Hierarchy for Context**:
   - **Start at the top**: Read `PROJECTS_OVERVIEW.md` to check for relevant projects
   - **If relevant project found**: Read that project's `PROJECT_SUMMARY.md`
   - **If implementation details needed**: Read specific related code files mentioned in project summary
   - **If PROJECTS_OVERVIEW doesn't clarify → ASK USER immediately**
   - **NEVER do blind searching**: No multiple greps, no searching everywhere, no exploratory codebase traversal
   - **Key principle**: Follow the documented hierarchy (Overview → Project Summary → Specific code), don't search blindly

2. **Challenge Vagueness Directly**: 
   - Call out why request is unclear ("This request is too vague to act on effectively")
   - Explain opportunity cost of vague requests (wrong assumptions, wasted effort)
   - Show specific examples of what could be misinterpreted

3. **Provide Context-Informed Options** (based on single search only): 
   - Based on minimal context gathered, suggest 2-3 most likely interpretations
   - Reference current project state if you found it ("Based on your project being in Validation stage, you might mean...")
   - If no clear context found, say so and provide generic options

4. **Ask Targeted Questions**: 
   - Use context to ask specific, non-leading questions
   - Avoid generic questions - make them relevant to current situation
   - Ask 2-3 questions maximum (don't overwhelm)

5. **Don't Guess**: 
   - If context doesn't clarify intent, ask user directly rather than assuming
   - Better to clarify than proceed with wrong assumption
   - **NEVER create files or take actions based on assumptions from vague queries**
   - If query is vague (single words, short phrases, ambiguous), ask clarifying questions FIRST

## Vague Request Handling Pattern

When user request is vague or could mean multiple things:
1. **STOP IMMEDIATELY**: Do not create files, do not make assumptions, do not proceed with any action
2. **Smart Cascade Context Check**:
   - Read `PROJECTS_OVERVIEW.md` first
   - If relevant project identified → Read that `PROJECT_SUMMARY.md`
   - If specific code mentioned in summary → Read those specific files
   - **If Overview doesn't clarify → ASK immediately**
3. **Challenge First**: "This request is too vague. Let me explain why clarity matters..."
4. **Structured Options**: Provide 2-3 most likely interpretations based on context found
5. **Targeted Questions**: Ask 2-3 specific questions to disambiguate
6. **WAIT**: Do not proceed until user clarifies intent
7. **THEN Act**: Only after clarification, proceed with appropriate action

**CRITICAL RULES**: 
- Vague queries require clarification BEFORE any file creation, editing, or other actions
- **Follow documented hierarchy** (Overview → Project Summary → Specific code), don't search blindly
- **NO blind searching**: No multiple greps, no exploratory searching, no "let me look everywhere"
- Never guess user intent and create files based on assumptions
- Don't waste user's time with extensive searching when intent is unclear

---

# End of User Intent Understanding
